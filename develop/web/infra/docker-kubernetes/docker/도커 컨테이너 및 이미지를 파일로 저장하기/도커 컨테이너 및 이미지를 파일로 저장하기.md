 # 개요

- 도커 이미지나 컨테이너를 물리적 파일로 저장하기

# 이미지

## 이미지를 tar 파일로 저장

- `docker save -o 파일명.tar 이미지명`

## tar로 저장한 이미지를 불러오기

- `docker load -i 파일명.tar`

# 컨테이너

## 컨테이너를 tar 파일 이미지로 저장

- `docker export 컨테이너명 파일명.tar`

## tar로 저장한 컨테이너를 이미지로 가져오기

- `docker import 대상파일 이미지명:tag`

## 컨테이너를 이미지로 저장

- `docker commit 컨테이너명`

# 주의사항

- 컨테이너 저장 및 불러오기는 export, import로만 할수 있고, 이미지 저장 및 불러오기는 save, load로만 할 수 있음
- 컨테이너를 저장한다는것은 파일시스템을 저장하는것으로 컨테이너 안의 변경된 데이터나 파일내용들까지 그대로 모두 저장되어지는것은 아님.
    - 예를 들어 DB 컨테이너 뜬다고 DB의 레코드들까지 모두 떠지는것이 아니며, 웹서버 저장한다고 넣어놓은 웹서버내의 인증서 파일들까지 모두 떠지는것이 아님
- docker export의 경우 컨테이너를 동작하는데 필요한 모든 파일이 압축된다. tar파일에 컨테이너의 루트 파일시스템 전체가 들어있는 것이다. 반면에 docker save는 레이어 구조까지 포함한 형태로 압축이 된다.