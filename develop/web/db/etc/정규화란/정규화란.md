# 정규화란

- 데이터베이스 정규화(Database Normalization)는 데이터베이스 설계에서 **데이터의 중복을 최소화**하고, **데이터 무결성**을 보장하기 위해 데이터를 구조화하는 과정이다.
- 정규화는 데이터를 여러 테이블로 나누고, 그들 간의 관계를 정의하여 데이터의 이상 현상(Anomalies)을 방지하고, 유지 관리와 확장성을 향상시키는 것을 목표로 한다.

---

# 목표

- **데이터 중복 제거**:
    - 동일한 정보가 여러 곳에 저장되지 않도록 함으로써 저장 공간을 절약하고 데이터의 일관성을 유지한다.
- **데이터 무결성 보장**:
    - 삽입, 삭제, 갱신 시 발생할 수 있는 데이터 이상 현상을 방지한다.
- **유지 보수성 향상**:
    - 데이터가 중복되지 않기 때문에, 변경 시 하나의 데이터만 수정하면 되므로 유지보수 비용이 줄어든다.

---

# 정규화의 단계

## **제 1 정규형 (1NF)**

- **조건**: 모든 컬럼의 값이 **원자 값**(Atomic Value)이어야 한다. 즉, 컬럼 내에 **복합 값이나 중첩된 값이 없어야** 한다.
- **예시**: 하나의 컬럼에 여러 개의 값을 저장하는 대신, 각 값을 별도의 행으로 나누어 저장한다.
    - 비정규화


        | 고객ID | 전화번호 |
        | --- | --- |
        | 1 | 123-4567, 234-5678 |
    - 1차 정규화
        
        
        | 고객ID | 전화번호 |
        | --- | --- |
        | 1 | 123-4567 |
        | 1 | 234-5678 |

## **제 2 정규형 (2NF)**

- **조건**: 제1정규형을 만족하고, **부분 함수 종속**이 없어야 한다. 즉, **기본키**의 일부에만 종속된 컬럼이 없어야 한다.
- **설명**: 복합키가 있을 때, 키의 일부만을 참조하는 속성이 있으면 이를 다른 테이블로 분리한다.
- **예시**: 테이블에서 기본키의 일부가 아닌 다른 속성에 종속된 데이터를 분리하여 새로운 테이블로 나눈다.
- 1차 정규화


    | 주문ID | 제품ID | 고객명 | 제품명 |
    | --- | --- | --- | --- |
    | 1 | 101 | 김철수 | A제품 |
- 2차 정규화


    | 주문ID | 제품ID | 고객명 |
    | --- | --- | --- |
    | 1 | 101 | 김철수 |
    
    | 제품ID | 제품명 |
    | --- | --- |
    | 101 | A제품 |

## **제 3 정규형 (3NF)**

- **조건**: 제2정규형을 만족하고, **이행적 함수 종속**이 없어야 한다. 즉, **기본키가 아닌 다른 속성 간의 종속성**이 없어야 한다.
- **설명**: 기본키가 아닌 속성들이 서로 종속 관계를 맺고 있다면 이를 분리하여 독립된 테이블로 만든다.
- **예시**: 고객 정보와 지역 정보를 분리.
- 2차정규화


    | 고객ID | 고객명 | 고객주소 | 지역명 |
    | --- | --- | --- | --- |
    | 1 | 김철수 | 서울 | 서울특별시 |
- 3차 정규화


    | 고객ID | 고객명 | 고객주소 |
    | --- | --- | --- |
    | 1 | 김철수 | 서울 |
    
    | 지역ID | 지역명 |
    | --- | --- |
    | 서울 | 서울특별시 |

---

# 정규화의 장점

## **데이터 중복 최소화**:

- 동일한 데이터가 여러 곳에 저장되지 않으므로, 저장 공간이 절약되고 데이터 일관성이 유지된다.

## **데이터 무결성 보장**:

- 데이터 삽입, 삭제, 갱신 시 발생하는 이상 현상을 방지하여 데이터베이스의 무결성을 유지한다.

## **확장성 향상**:

- 테이블 구조가 잘 정의되어 있어 새로운 데이터를 추가하거나 변경할 때 유지보수 작업이 용이하다.

---

# 정규화의 단점

- **복잡한 쿼리**:
    - 정규화로 인해 데이터가 여러 테이블로 나뉘므로, 복잡한 조인(Join)이 필요할 수 있다. 이는 성능 저하를 초래할 수 있다.
- **성능 저하 가능성**:
    - 지나친 정규화는 쿼리 성능을 저하시킬 수 있으며, 특히 읽기 성능이 중요한 시스템에서는 성능 튜닝이 필요하다.

---

# 정규화와 반정규화

- 정규화가 데이터베이스의 무결성과 중복을 줄이는 데 집중하는 반면, 반정규화(Denormalization)는 성능 최적화를 위해 일부 데이터 중복을 허용하고 정규화된 데이터를 다시 결합하여 테이블 수를 줄이는 과정이다.
- 반정규화는 특히 **읽기 성능**이 중요한 경우에 유용하다