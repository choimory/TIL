# DNS 라운드 로빈이란

- *DNS 라운드 로빈(DNS Round Robin)*은 **여러 서버에 트래픽을 분산**시키기 위한 간단한 **로드 밸런싱** 방식으로, **DNS 서버**가 하나의 도메인 이름에 대해 **여러 IP 주소**를 반환하고, 이를 **순차적으로 변경**하여 각 클라이언트가 다른 서버로 연결되도록 하는 방법이다.
- 주로 **부하 분산**을 위해 사용되며, 여러 서버 간에 트래픽을 고르게 분산함으로써 서버 과부하를 방지하고 **가용성**을 높인다.

---

# DNS 라운드 로빈의 동작 방식

## **도메인과 여러 IP 주소 매핑**:

- DNS 라운드 로빈은 **하나의 도메인 이름**에 대해 **여러 IP 주소**를 DNS에 등록한다.
- 예를 들어, `www.example.com`에 대해 `192.168.1.1`, `192.168.1.2`, `192.168.1.3`과 같은 여러 IP 주소를 등록할 수 있다.

## **DNS 응답 시 순차적 IP 반환**:

- 클라이언트가 도메인 이름을 요청하면, DNS 서버는 그 도메인에 대한 IP 주소 목록을 **순차적으로** 또는 **무작위**로 응답한다.
- 예를 들어, 첫 번째 요청에는 `192.168.1.1`을 반환하고, 두 번째 요청에는 `192.168.1.2`, 세 번째 요청에는 `192.168.1.3`을 반환하는 식으로 **순환**한다.

## **트래픽 분산**:

- 각 클라이언트는 순차적으로 다른 서버의 IP 주소를 받아 연결되므로, 트래픽이 서버들 간에 **균등하게 분산**된다.
- 이렇게 여러 서버에 부하를 나누어 서버가 과부하에 걸리지 않도록 한다.

---

# DNS 라운드 로빈의 주요 목적 및 해결하는 문제

## **서버 부하 분산**:

- 여러 IP 주소를 순차적으로 반환하여 클라이언트의 요청을 **여러 서버에 분산**시키는 방식으로, **특정 서버에 부하가 집중되지 않도록** 한다.
- 이는 트래픽이 많은 웹사이트나 애플리케이션에서 서버 과부하를 방지하는 데 매우 유용하다.

## **가용성 향상**:

- 여러 서버에 대한 요청을 분산함으로써, 하나의 서버에 장애가 발생하더라도 **다른 서버로 트래픽을 분산**할 수 있다.
- 서버 중 일부가 다운되더라도 전체 서비스의 가용성을 유지하는 데 도움이 된다.

## **저비용의 간단한 로드 밸런싱**:

- DNS 라운드 로빈은 별도의 하드웨어나 소프트웨어 로드 밸런서를 사용하지 않고도 트래픽을 분산할 수 있는 **간단하고 저비용**의 로드 밸런싱 방법이다.
- 이는 초기 로드 밸런싱 구성이 필요한 경우에 쉽게 적용할 수 있다.

---

# DNS 라운드 로빈의 한계와 문제점

## **서버 상태 인식 부족**:

- DNS 라운드 로빈은 단순히 IP 주소를 순차적으로 반환할 뿐, **서버의 상태(정상/비정상)**를 인식하지 못한다.
- 즉, 서버가 다운되었더라도 여전히 해당 서버의 IP 주소가 반환될 수 있어, 클라이언트가 비정상 서버로 연결될 위험이 있다.

## **TTL(Time to Live)로 인한 캐싱 문제**:

- DNS 응답은 **TTL** 값을 포함하여 클라이언트와 DNS 리졸버에 **캐싱**된다.
- 이로 인해 클라이언트가 계속 같은 IP 주소로 연결될 수 있어, 트래픽이 예상보다 균등하게 분산되지 않을 수 있다.
- 특히 TTL 값이 긴 경우 이 문제가 더 두드러진다.

## **지능적인 로드 밸런싱 기능 부족**:

- DNS 라운드 로빈은 단순히 요청을 **순차적으로** 분산할 뿐, **실시간 트래픽 부하**나 **서버 성능**을 고려하지 않는다.
- 트래픽이 급격하게 증가하거나, 서버 간 성능 차이가 큰 경우에는 일부 서버에 과부하가 걸릴 수 있다.

---

# DNS 라운드 로빈의 사용 사례

## **웹 서버 부하 분산**:

- 트래픽이 많은 웹사이트에서 **여러 웹 서버**를 운영할 때, 클라이언트의 요청을 고르게 분산하기 위해 DNS 라운드 로빈을 사용한다.
- 이를 통해 웹 서버 간의 부하를 분산하고 성능을 최적화할 수 있다.

## **여러 데이터센터 운영**:

- 전 세계 여러 지역에 **여러 데이터센터**가 운영되는 경우, 각 지역의 클라이언트 요청을 특정 데이터센터로 분산하기 위해 사용될 수 있다.
- 예를 들어, 북미 지역에서 오는 요청은 북미 데이터센터로, 유럽 지역에서 오는 요청은 유럽 데이터센터로 분산할 수 있다.

---

# 결론

- **DNS 라운드 로빈**은 간단한 방식으로 **트래픽을 여러 서버로 분산**시키는 기법이다.
- 서버 부하 분산과 가용성 향상을 위해 사용되며, 저비용의 간단한 로드 밸런싱을 제공한다.
- 그러나 서버 상태를 인식하지 못하거나 TTL 캐싱으로 인해 완벽한 분산이 이루어지지 않을 수 있는 **제한점**이 존재한다.
- 따라서 단순한 로드 밸런싱이 필요한 경우에는 효과적이지만, 더 복잡한 트래픽 관리가 필요할 경우 **고급 로드 밸런싱 기술**과 함께 사용해야 할 수 있다.